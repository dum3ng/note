# use database with flask

## use alembic

Assume we use `flask-migrate` to do db related jobs.

We have a `BaseModel` class as all the base class of our models, where `BaseModel` is a declaritive base:

```python

class BaseModel(Base):
    pass

class User(BaseModel):
    pass
```

And in the alembic auto generated file `env.py`(generated by run `flask db init`),

```python
from myapp import BaseModel
target_metadata = BaseModel.metadata
```

and then run `flask db revision --autogenerate -m 'some message'`, alembic will generate a revision file automatically under `migrations/versions` folder.
